if(MSVC)
	foreach(_LANG C CXX)
		set(CMAKE_${_LANG}_FLAGS_INIT "/DWIN32 /D_WINDOWS /W3 /GR /EHsc /D_WIN32_WINNT=0x0600 /DWINVER=0x0600")
		set(CMAKE_${_LANG}_FLAGS_DEBUG_INIT "/MTd /Z7 /Ob0 /Od /D_DEBUG")
		set(COMMON_RELEASE_FLAGS "/MT /GL /Gy /GS- /GF /fp:fast /DNDEBUG")
		set(CMAKE_${_LANG}_FLAGS_RELEASE_INIT "${COMMON_RELEASE_FLAGS} /O2 /Ob2 /Oi /Ot")
		set(CMAKE_${_LANG}_FLAGS_MINSIZEREL_INIT "${COMMON_RELEASE_FLAGS} /O1 /Ob1 /Os")
		set(CMAKE_${_LANG}_FLAGS_RELWITHDEBINFO_INIT "${CMAKE_${_LANG}_FLAGS_RELEASE_INIT} /Oy- /Z7 /Zo")
	endforeach()
	if(CMAKE_GENERATOR MATCHES "^Visual Studio [0-9]+ [0-9]+$")
		foreach(_LANG C CXX)
			string(APPEND CMAKE_${_LANG}_FLAGS_INIT " /arch:SSE2")
		endforeach()
	endif()
	foreach(_CONFIG RELEASE MINSIZEREL RELWITHDEBINFO)
			set(CMAKE_STATIC_LINKER_FLAGS_${_CONFIG}_INIT "/LTCG")
	endforeach()
	foreach(_TYPE EXE MODULE SHARED)
		foreach(_CONFIG RELEASE MINSIZEREL RELWITHDEBINFO)
			set(CMAKE_${_TYPE}_LINKER_FLAGS_${_CONFIG}_INIT "/INCREMENTAL:NO /LTCG")
		endforeach()
		string(APPEND CMAKE_${_TYPE}_LINKER_FLAGS_RELWITHDEBINFO_INIT " /debug")
	endforeach()
endif()
